!function(e){"use strict";function t(){e("#bdthemes-templates-builder-modal").show()}function a(){e("#bdthemes-templates-builder-modal form")[0].reset(),e("#bdthemes-templates-builder-modal form .template_id").val("")}function d(t){e("#bdthemes-templates-builder-modal form .bdt-modal-submit-btn").val(t)}function l(t){e(".input-error").removeClass("input-error")}e(document).on("click","#bdthemes-templates-builder-modal .bdt-modal-close-button",(function(t){e("#bdthemes-templates-builder-modal").hide()})),e(document).on("click","body.post-type-bdt-template-builder a.page-title-action",(function(e){e.preventDefault(),a(),d("Create Template"),t()})),e(document).on("submit","#bdthemes-templates-builder-modal form",(function(t){t.preventDefault();var a=e(this).serialize();l(),e.ajax({url:ajaxurl,dataType:"json",method:"post",cache:!1,data:{action:"bdthemes_builder_create_template",data:a},success:function(e){window.location.href=e.data.redirect},error:function(t){422==t.status&&e.each(t.responseJSON.data.errors_arr,(function(t,a){e("#bdthemes-templates-builder-modal #"+t).addClass("input-error")}))}})})),e(document).on("click","body.post-type-bdt-template-builder .row-actions .bdt-edit-action a",(function(o){o.preventDefault(),l(),a(),d("Update Template"),e.ajax({url:ajaxurl,dataType:"json",method:"post",data:{action:"bdthemes_builder_get_edit_template",template_id:e(this).data("id")},success:function(a){a.success&&(e("#bdthemes-templates-builder-modal form .template_id").val(a.data.id).change(),e("#bdthemes-templates-builder-modal form #template_name").val(a.data.name).change(),e("#bdthemes-templates-builder-modal form #template_type").val(a.data.type).change(),e("#bdthemes-templates-builder-modal form #template_status").val(a.data.status).change()),t()},error:function(e){console.log(e),e.status}})}))}(jQuery);